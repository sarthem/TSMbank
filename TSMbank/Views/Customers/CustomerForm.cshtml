@model TSMbank.ViewModels.CustomerFormViewModel
@using TSMbank.ViewModels;
@{
    ViewBag.Title = "New";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>@Model.Title</h2>
@using (Html.BeginForm("Save", "Customers"))
{
    @Html.HiddenFor(m => m.CustomerId)
    @Html.HiddenFor(m => m.ModificationAction)
    if (Model.ModificationAction == ModificationAction.NewCustomer || Model.ModificationAction == ModificationAction.EditCustomer)
    {
        <div class="row">
            <div class="col-sm-3">
                <div class="form-group">
                    @Html.LabelFor(m => m.Customer.FirstName)
                    @Html.TextBoxFor(m => m.Customer.FirstName, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.Customer.FirstName)
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    @Html.LabelFor(m => m.Customer.LastName)
                    @Html.TextBoxFor(m => m.Customer.LastName, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.Customer.LastName)
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    @Html.LabelFor(m => m.Customer.FathersName)
                    @Html.TextBoxFor(m => m.Customer.FathersName, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.Customer.FathersName)
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-3">
                <div class="form-group">
                    @Html.LabelFor(m => m.Customer.SSN)
                    @Html.TextBoxFor(m => m.Customer.SSN, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.Customer.SSN)
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    @Html.LabelFor(m => m.Customer.VatNumber)
                    @Html.TextBoxFor(m => m.Customer.VatNumber, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.Customer.VatNumber)
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    @Html.LabelFor(m => m.Customer.IdentificationCardNo)
                    @Html.TextBoxFor(m => m.Customer.IdentificationCardNo, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.Customer.IdentificationCardNo)
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-3">
                <div class="form-group">
                    @Html.LabelFor(m => m.Customer.DateOfBirth)
                    @Html.TextBoxFor(m => m.Customer.DateOfBirth, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.Customer.DateOfBirth)
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    @Html.LabelFor(m => m.Customer.Email)
                    @Html.TextBoxFor(m => m.Customer.Email, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.Customer.Email)
                </div>
            </div>
        </div>
    }
    if (Model.ModificationAction == ModificationAction.NewCustomer || Model.ModificationAction == ModificationAction.EditAddresses)
    {
        <h3>Primary Address</h3>
        <div class="row">
            <div class="col-sm-3">
                <div class="form-group">
                    @Html.LabelFor(m => m.PrimaryAddress.Street)
                    @Html.TextBoxFor(m => m.PrimaryAddress.Street, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.PrimaryAddress.Street)
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    @Html.LabelFor(m => m.PrimaryAddress.StreetNumber)
                    @Html.TextBoxFor(m => m.PrimaryAddress.StreetNumber, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.PrimaryAddress.StreetNumber)
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    @Html.LabelFor(m => m.PrimaryAddress.Region)
                    @Html.TextBoxFor(m => m.PrimaryAddress.Region, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.PrimaryAddress.Region)
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-3">
                <div class="form-group">
                    @Html.LabelFor(m => m.PrimaryAddress.City)
                    @Html.TextBoxFor(m => m.PrimaryAddress.City, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.PrimaryAddress.City)
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    @Html.LabelFor(m => m.PrimaryAddress.Country)
                    @Html.TextBoxFor(m => m.PrimaryAddress.Country, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.PrimaryAddress.Country)
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    @Html.LabelFor(m => m.PrimaryAddress.PostalCode)
                    @Html.TextBoxFor(m => m.PrimaryAddress.PostalCode, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.PrimaryAddress.PostalCode)
                </div>
            </div>
        </div>
        <h3>Secondary Address</h3>
        <div class="row">
            <div class="col-sm-3">
                <div class="form-group">
                    @Html.LabelFor(m => m.SecondaryAddress.Street)
                    @Html.TextBoxFor(m => m.SecondaryAddress.Street, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.SecondaryAddress.Street)
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    @Html.LabelFor(m => m.SecondaryAddress.StreetNumber)
                    @Html.TextBoxFor(m => m.SecondaryAddress.StreetNumber, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.SecondaryAddress.StreetNumber)
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    @Html.LabelFor(m => m.SecondaryAddress.Region)
                    @Html.TextBoxFor(m => m.SecondaryAddress.Region, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.SecondaryAddress.Region)
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-3">
                <div class="form-group">
                    @Html.LabelFor(m => m.SecondaryAddress.City)
                    @Html.TextBoxFor(m => m.SecondaryAddress.City, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.SecondaryAddress.City)
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    @Html.LabelFor(m => m.SecondaryAddress.Country)
                    @Html.TextBoxFor(m => m.SecondaryAddress.Country, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.SecondaryAddress.Country)
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    @Html.LabelFor(m => m.SecondaryAddress.PostalCode)
                    @Html.TextBoxFor(m => m.SecondaryAddress.PostalCode, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.SecondaryAddress.PostalCode)
                </div>
            </div>
        </div>
    }
    if (Model.ModificationAction == ModificationAction.NewCustomer || Model.ModificationAction == ModificationAction.EditPhones)
    {
        for (int i = 0; i < Model.Phones.Count; i++)
        {
            <div class="row">
                <div class="col-sm-3">
                    <div class="form-group">
                        @Html.LabelFor(m => Model.Phones[i].CountryCode)
                        @Html.TextBoxFor(m => Model.Phones[i].CountryCode, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => Model.Phones[i].CountryCode)
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="form-group">
                        @Html.LabelFor(m => Model.Phones[i].PhoneType)
                        @Html.EnumDropDownListFor(m => Model.Phones[i].PhoneType, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => Model.Phones[i].PhoneType)
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="form-group">
                        @Html.LabelFor(m => Model.Phones[i].PhoneNumber)
                        @Html.TextBoxFor(m => Model.Phones[i].PhoneNumber, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => Model.Phones[i].PhoneNumber)
                    </div>
                </div>
            </div>
        }
    }

    <button type="submit" class="btn btn-primary">Save</button>


}

